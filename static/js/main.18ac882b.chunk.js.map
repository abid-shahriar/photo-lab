{"version":3,"sources":["components/Nav.jsx","components/Title.jsx","firebase/config.js","components/Upload.jsx","components/UploadForm.jsx","components/ImageGrid.jsx","App.js","index.js"],"names":["Nav","className","Title","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseFirestore","firebaseStorage","Upload","file","setFile","error","setUrl","useState","uploadStage","setUploadStage","progress","setProgress","err","setErr","div","name","onClick","e","target","style","pointerEvents","storageRef","ref","collectionRef","collection","createdAt","Date","put","on","snap","percentage","bytesTransferred","totalBytes","getDownloadURL","then","link","add","url","setTimeout","document","querySelector","classList","initial","width","animate","UploadForm","setError","action","type","onChange","selectedFile","files","ImageGrid","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"6OAQeA,EANH,kBACV,yBAAKC,UAAU,OACb,0CCFSC,EAAQ,kBACnB,yBAAKD,UAAU,SACb,4CACA,6CACA,sE,mBCQJE,gBAVqB,CACnBC,OAAQ,0CACRC,WAAY,wCACZC,YAAa,+CACbC,UAAW,wBACXC,cAAe,oCACfC,kBAAmB,gBACnBC,MAAO,+CAKF,IAAMC,EAAoBR,cACpBS,EAAkBT,Y,OCsDhBU,EAnEA,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OAAa,EACbC,mBAAS,UADI,mBAC5CC,EAD4C,KAC/BC,EAD+B,OAEnBF,mBAAS,GAFU,mBAE5CG,EAF4C,KAElCC,EAFkC,OAG7BJ,mBAAS,MAHoB,mBAG5CK,EAH4C,KAGvCC,EAHuC,KAuCnD,OACE,kBAAC,IAAOC,IAAR,CAAYxB,UAAU,UACpB,yBAAKA,UAAU,kBACZa,GACC,uBAAGb,UAAU,aAAb,kBACiB,8BAAOa,EAAKY,OAI9BV,GACC,uBAAGf,UAAU,iBAAb,UACS,8BAAOe,KAIpB,yBAAKf,UAAU,cACZa,GAAQ,4BAAQa,QAlDD,SAACC,GACrBR,EAAe,gBACfQ,EAAEC,OAAOC,MAAMC,cAAgB,OAC/B,IAAMC,EAAapB,EAAgBqB,IAAInB,EAAKY,MACtCQ,EAAgBvB,EAAkBwB,WAAW,UAC/CC,EAAY,IAAIC,KAEpBL,EAAWM,IAAIxB,GAAMyB,GACnB,iBACA,SAACC,GACC,IAAIC,EAAcD,EAAKE,iBAAmBF,EAAKG,WAAc,IAC7DrB,EAAYmB,MAEd,SAACzB,GACCQ,EAAOR,MAET,WACEgB,EAAWY,iBAAiBC,MAAK,SAACC,GAChC7B,EAAO6B,GACPZ,EAAca,IAAI,CAAEX,YAAWY,IAAKF,IACpC1B,EAAe,aAEf6B,YAAW,WACTC,SAASC,cAAc,WAAWC,UAAUL,IAAI,aAC/C,KAEHE,YAAW,WACTlC,EAAQ,QACP,aAsBqCI,IAE5C,kBAAC,IAAOM,IAAR,CACExB,UAAU,eACVoD,QAAS,CAAEC,MAAO,GAClBC,QAAS,CAAED,MAAOjC,EAAW,OAE9BE,GAAO,2BAAIA,KC9DLiC,EAAa,SAAC,GAAgB,IAAdvC,EAAa,EAAbA,OAAa,EAChBC,mBAAS,MADO,mBACjCJ,EADiC,KAC3BC,EAD2B,OAEdG,mBAAS,MAFK,mBAEjCF,EAFiC,KAE1ByC,EAF0B,KAoBxC,OACE,yBAAKxD,UAAU,uBACb,gDACA,0BAAMyD,OAAO,GAAGzD,UAAU,eACxB,+BACE,2BAAO0D,KAAK,OAAOC,SArBL,SAAChC,GACrB,IAAIiC,EAAejC,EAAEC,OAAOiC,MAAM,IAEhCD,GACuB,cAAtBA,EAAaF,MACU,cAAtBE,EAAaF,MACS,eAAtBE,EAAaF,MAKfF,EAAS,uDACT1C,EAAQ,QAJRA,EAAQ8C,GACRJ,EAAS,UAaL,qCAGH3C,GACC,kBAAC,EAAD,CAAQA,KAAMA,EAAMC,QAASA,EAASC,MAAOA,EAAOC,OAAQA,MChCvD8C,EAAY,WACvB,OAAO,yBAAK9D,UAAU,gBCgBT+D,MAbf,WAAgB,IAAD,EACS9C,mBAAS,MADlB,mBACN8B,EADM,KACD/B,EADC,KAGb,OACE,yBAAKhB,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAYgB,OAAQA,IACpB,kBAAC,EAAD,CAAW+B,IAAKA,OCTtBiB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFjB,SAASkB,eAAe,W","file":"static/js/main.18ac882b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Nav = () => (\r\n  <nav className=\"nav\">\r\n    <h3>PhotoLab</h3>\r\n  </nav>\r\n);\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\n\r\nexport const Title = () => (\r\n  <div className=\"title\">\r\n    <h4>Hello there,</h4>\r\n    <h1>Abid Shahriar</h1>\r\n    <p>Welcome to your personal photo lab...</p>\r\n  </div>\r\n);\r\n","import * as firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBaGREPQvuDPdCTuhx_lwoA-2nOlPD8Gn0\",\r\n  authDomain: \"random-projects-79e61.firebaseapp.com\",\r\n  databaseURL: \"https://random-projects-79e61.firebaseio.com\",\r\n  projectId: \"random-projects-79e61\",\r\n  storageBucket: \"random-projects-79e61.appspot.com\",\r\n  messagingSenderId: \"1066347237127\",\r\n  appId: \"1:1066347237127:web:425ef57c14e40b9128ffa2\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseFirestore = firebase.firestore();\r\nexport const firebaseStorage = firebase.storage();\r\n","import React, { useState } from \"react\";\r\nimport { firebaseFirestore, firebaseStorage } from \"../firebase/config\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst Upload = ({ file, setFile, error, setUrl }) => {\r\n  const [uploadStage, setUploadStage] = useState(\"Upload\");\r\n  const [progress, setProgress] = useState(0);\r\n  const [err, setErr] = useState(null);\r\n\r\n  const uploadHandler = (e) => {\r\n    setUploadStage(\"Uploading...\");\r\n    e.target.style.pointerEvents = \"none\";\r\n    const storageRef = firebaseStorage.ref(file.name);\r\n    const collectionRef = firebaseFirestore.collection(\"images\");\r\n    let createdAt = new Date();\r\n\r\n    storageRef.put(file).on(\r\n      \"state_changed\",\r\n      (snap) => {\r\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n        setProgress(percentage);\r\n      },\r\n      (error) => {\r\n        setErr(error);\r\n      },\r\n      () => {\r\n        storageRef.getDownloadURL().then((link) => {\r\n          setUrl(link);\r\n          collectionRef.add({ createdAt, url: link });\r\n          setUploadStage(\"Completed\");\r\n\r\n          setTimeout(() => {\r\n            document.querySelector(\".upload\").classList.add(\"fadeOut\");\r\n          }, 500);\r\n\r\n          setTimeout(() => {\r\n            setFile(null);\r\n          }, 1000);\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <motion.div className=\"upload\">\r\n      <div className=\"output-message\">\r\n        {file && (\r\n          <p className=\"file-name\">\r\n            Selected-file: <span>{file.name}</span>\r\n          </p>\r\n        )}\r\n\r\n        {error && (\r\n          <p className=\"error-message\">\r\n            Error: <span>{error}</span>\r\n          </p>\r\n        )}\r\n      </div>\r\n      <div className=\"upload-btn\">\r\n        {file && <button onClick={uploadHandler}>{uploadStage}</button>}\r\n      </div>\r\n      <motion.div\r\n        className=\"progress-bar\"\r\n        initial={{ width: 0 }}\r\n        animate={{ width: progress + \"%\" }}\r\n      ></motion.div>\r\n      {err && <p>{err}</p>}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Upload;\r\n","import React, { useState } from \"react\";\r\nimport Upload from \"./Upload\";\r\n// import { motion } from \"framer-motion\";\r\n\r\nexport const UploadForm = ({ setUrl }) => {\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const uploadHandler = (e) => {\r\n    let selectedFile = e.target.files[0];\r\n    if (\r\n      selectedFile &&\r\n      (selectedFile.type === \"image/png\" ||\r\n        selectedFile.type === \"image/jpg\" ||\r\n        selectedFile.type === \"image/jpeg\")\r\n    ) {\r\n      setFile(selectedFile);\r\n      setError(null);\r\n    } else {\r\n      setError(\"please select a valid image file (jpg/jpeg or png).\");\r\n      setFile(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-form-wrapper\">\r\n      <p>Upload Your Image</p>\r\n      <form action=\"\" className=\"upload-form\">\r\n        <label>\r\n          <input type=\"file\" onChange={uploadHandler} />\r\n          <span>+</span>\r\n        </label>\r\n      </form>\r\n      {file && (\r\n        <Upload file={file} setFile={setFile} error={error} setUrl={setUrl} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const ImageGrid = () => {\r\n  return <div className=\"image-grid\"></div>;\r\n};\r\n","import React, { useState } from \"react\";\nimport Nav from \"./components/Nav\";\nimport { Title } from \"./components/Title\";\nimport { UploadForm } from \"./components/UploadForm\";\nimport { ImageGrid } from \"./components/ImageGrid\";\n\nfunction App() {\n  const [url, setUrl] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <Nav />\n      <Title />\n      <UploadForm setUrl={setUrl} />\n      <ImageGrid url={url} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}